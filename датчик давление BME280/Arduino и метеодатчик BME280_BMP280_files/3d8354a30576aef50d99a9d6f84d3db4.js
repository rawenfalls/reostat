(function(){const e={init:()=>{"undefined"!=typeof wpDarkMode&&(e.replaceBgImages(),e.replaceImages(),e.replaceVideos(),window.addEventListener("wp_dark_mode",e.replaceBgImages),window.addEventListener("wp_dark_mode",e.replaceImages),window.addEventListener("wp_dark_mode",e.replaceVideos),setTimeout(e.replaceImages,1e3),setTimeout(e.replaceImages,3e3),jQuery(".woocommerce-product-gallery").on("wc-product-gallery-after-init",function(){wc_single_product_params.zoom_options.callback=(()=>{e.replaceImages()})}))},replaceImages:()=>{if(!wpDarkMode.is_ultimate_active)return;if(!wpDarkMode.frontend_mode)return;const e=document.querySelectorAll("img");e&&e.forEach(e=>{const t=e.getAttribute("src"),r=wpDarkMode.images,i="data-light-img";if(r)if(document.querySelector("html").classList.contains("wp-dark-mode-active")){if(r.light_images.includes(t)){const o=r.light_images.indexOf(t);e.setAttribute(i,t);const s=e.getAttribute("srcset");s&&(e.setAttribute("data-light-srcset",s),e.setAttribute("srcset",r.dark_images[o])),e.setAttribute("src",r.dark_images[o])}}else{const t=e.getAttribute(i),r=e.getAttribute("data-light-srcset");t&&e.setAttribute("src",t),r&&e.setAttribute("srcset",r)}})},replaceBgImages:()=>{const e=document.querySelectorAll("header, footer, div, section");e&&e.forEach(e=>{const t=window.getComputedStyle(e,!1).backgroundImage;if("none"!==t){const r=t.slice(4,-1).replace(/"/g,""),i=wpDarkMode.images,o="data-light-bg";if(!i)return;if(document.querySelector("html").classList.contains("wp-dark-mode-active")){if(i.light_images.includes(r)){const t=i.light_images.indexOf(r);e.setAttribute(o,r),e.style.backgroundImage=`url('${i.dark_images[t]}')`}}else{const t=e.getAttribute(o);t&&(e.style.backgroundImage=`url('${t}')`)}}})},replaceVideos:()=>{const e=wpDarkMode.videos,t="data-light-video",r=document.querySelector("html").classList.contains("wp-dark-mode-active");if(!e)return;const i=document.querySelectorAll("video");i&&i.forEach(i=>{const o=i.getAttribute("src");if(r){if(e.light_videos.includes(o)){const r=e.light_videos.indexOf(o);i.setAttribute(t,o),i.setAttribute("src",e.dark_videos[r])}}else{const e=i.getAttribute(t);e&&i.setAttribute("src",e)}});const o=document.querySelectorAll("iframe");o&&o.forEach(i=>{const o=i.getAttribute("src"),s=o.match(/^.*youtu.be\/|(v\/)|(\/u\/\w\/|embed\/|watch\?)\??v?=?(?<videoID>[^#&?]*).*/),a=o.match(/(?:http:|https:|)\/\/(?:player.|www.)?vimeo\.com\/(?:video\/|embed\/|watch\?\S*v=|v\/)?(?<videoID>\d*)/),c=s?s.groups.videoID:a?a.groups.videoID:null;if(c)if(r)e.light_videos.map((r,s)=>{if(!r.includes(c))return;i.setAttribute(t,o);const a=e.dark_videos[s],d=a.match(/^.*youtu.be\/|(v\/)|(\/u\/\w\/|embed\/|watch\?)\??v?=?(?<videoID>[^#&?]*).*/),n=a.match(/(?:http:|https:|)\/\/(?:player.|www.)?vimeo\.com\/(?:video\/|embed\/|watch\?\S*v=|v\/)?(?<videoID>\d*)/),l=d?d.groups.videoID:n?n.groups.videoID:null;if(!l)return;const u=d?`https://www.youtube.com/embed/${l}`:n?`https://player.vimeo.com/video/${l}`:null;u&&i.setAttribute("src",u)});else{const e=i.getAttribute(t);e&&i.setAttribute("src",e)}})},wait:!1,throttle:null,throttleRate:600,restartThrottle(){e.wait=!0,e.throttle=setTimeout(function(){e.wait=!1,clearTimeout(e.throttle)},1e3/(e.throttleRate/60))},listenMutationObserver(){if("undefined"==typeof wpDarkMode)return;let t=!0;if(!t)return;const r=new MutationObserver(function(t,r){!0!==e.wait&&(e.restartThrottle(),e.replaceBgImages(),e.replaceImages(),e.replaceVideos())});let i="body",o=document.querySelectorAll(i);o&&o.forEach(e=>{r.observe(e,{childList:!0,subtree:!0})})}};document.addEventListener("DOMContentLoaded",e.init),document.addEventListener("DOMContentLoaded",e.listenMutationObserver)})()
;